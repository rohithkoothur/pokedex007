import Head from 'next/head'
import Image from 'next/image'
import logo from '../images/logo.png'
import Router from 'next/router'
import NavBar from '../Components/NavBar/NavBar'
import styles from '../styles/Home.module.css'
import Marquee from "react-fast-marquee";
import pokeball from '../images/pokeball.png';
import Link from 'next/link'
import {motion} from 'framer-motion';
import {useState} from 'react'
import DarkMode from "../Components/Darkmode";


export default function Home({normaltype, electrictype, fightingtype}, statedata,darkMode) {
    const [pokemon, putPokemon] = useState([]);


    const [query, setQuery] = useState('');
    return (
        <div className={darkMode ? "indexbody" : ""}>

            <Head>
                <title>Pokedex</title>
                <meta name="description" content="Generated by create next app"/>
                <link rel="icon" href="/favicon.ico"/>
                <link rel="stylesheet"
                      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"></link>
            </Head>





            {/* Home Page Section */}
            <nav aria-label="breadcrumb">
                {/* <ol  className="breadcrumb">
    <div className="welcome">
 <h5 > <Marquee>!!...Welcome to Pokedex... A World of Pokemons...!!</Marquee></h5>
  </div>
  </ol>*/}
            </nav>
            <motion.div className={darkMode ? "darktypeheading" : "typeheading"} initial={{opacity: 0}}
                        animate={{opacity: 1}}
                        transition={{delay: 0.4}}>
                <h2><Image className="pokeimage"  src={pokeball} alt="logo"/><span
                    className="typehead">Normal Pokemons</span></h2>
            </motion.div>

            <motion.div className='row'
                        initial={{opacity: 0}}
                        animate={{opacity: 1}}
                        transition={{delay: .8}}
            >
               <div className='testposters'>
                    {
                        normaltype.pokemon.map((name, index) => {
                            return (

                                <motion.div className={darkMode ? "darktestcardtest" : "testcardtest"} key={name}
                                            whileHover={{scale: 1.1}}>
                                    <Link href={`/pokemons/${name.pokemon.name}`}><a>
                                        <div className="titt">
                                            {
                                            }
                                            <img className="testposters"
                                                 src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${name.pokemon.url.slice(34, -1)}.png`}/>
                                            <div className="testpokemonname">{name.pokemon.name.toUpperCase()}</div>
                                        </div>
                                    </a></Link>
                                </motion.div>
                            )
                        })
                    }
                </div>
                )
            </motion.div>
            <motion.div className={darkMode ? "darktypeheading" : "typeheading"} initial={{opacity: 0}}
                        animate={{opacity: 1}}
                        transition={{delay: 1.2}}>
                <h2><Image className="pokeimage" src={pokeball} alt="logo"/><span style={{padding: "5px"}}>Electric Pokemons</span>
                </h2>
            </motion.div>
            <motion.div className='row' initial={{opacity: 0}}
                        animate={{opacity: 1}}
                        transition={{delay: 1.6}}>
                <div className='testposters'>
                    {
                        electrictype.pokemon.map((name, index) => {
                            return (
                                <motion.div className={darkMode ? "darktestcardtest" : "testcardtest"} key={name}
                                            whileHover={{scale: 1.1}}>
                                    <Link href={`/pokemons/${name.pokemon.name}`}><a>
                                        <div className="titt">
                                            <img className="testposters"
                                                 src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${name.pokemon.url.slice(34, -1)}.png`}/>
                                            <div className="testpokemonname">{name.pokemon.name.toUpperCase()}</div>
                                        </div>
                                    </a></Link>
                             </motion.div>
                            )
                        })
                    }
                </div>
                )
            </motion.div>
            <motion.div className={darkMode ? "darktypeheading" : "typeheading"} initial={{opacity: 0}}
                        animate={{opacity: 1}}
                        transition={{delay: 2}}>
                <h2><Image className="pokeimage" src={pokeball} alt="logo"/>Fighting Pokemons</h2>
            </motion.div>
            <motion.div className='row' initial={{opacity: 0}}
                        animate={{opacity: 1}}
                        transition={{delay: 2.4}}>
                <div className='testposters'>
                    {
                        fightingtype.pokemon.map((name, index) => {
                            return (
                                <motion.div className={darkMode ? "darktestcardtest" : "testcardtest"} key={name}
                                            whileHover={{scale: 1.1, originX: 0}}>
                                    <Link href={`/pokemons/${name.pokemon.name}`}><a>
                                        <div className="titt">
                                            {
                                            }
                                            <img className="testposters"
                                                 src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${name.pokemon.url.slice(34, -1)}.png`}/>
                                            <div className="testpokemonname">{name.pokemon.name.toUpperCase()}</div>
                                        </div>
                                    </a></Link>
                                </motion.div>
                            )
                        })
                    }
                </div>
                )
            </motion.div>

        </div>
    )
}


export const getServerSideProps = async () => {
    const resnormal = await fetch(`https://pokeapi.co/api/v2/type/normal`)
    const datanormal = await resnormal.json()
    const reselectric = await fetch(`https://pokeapi.co/api/v2/type/electric`)
    const dataelectric = await reselectric.json()
    const reselfighting = await fetch(`https://pokeapi.co/api/v2/type/fighting`)
    const datafighting = await reselfighting.json()
    return {
        props: {
            normaltype: datanormal,
            electrictype: dataelectric,
            fightingtype: datafighting
        }
    }
}